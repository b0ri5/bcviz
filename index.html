<html>
<head>
<script type="text/javascript"
  src="https://code.jquery.com/jquery-latest.min.js">
  
</script>
<script type="text/javascript"
  src="https://jquery-csv.googlecode.com/git/src/jquery.csv.js">
  
</script>
<script type="text/javascript" src="https://www.google.com/jsapi">
  
</script>
<script type="text/javascript" src="./bcviz.js">
  
</script>
<script type="text/javascript">
  google.load('visualization', '1', {
    'packages' : [ 'timeline' ]
  });
  google.setOnLoadCallback(drawChart);

  function drawChart() {
    var container = document.getElementById('example1');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();

    dataTable.addColumn({
      type : 'string',
      id : 'Day'
    });
    dataTable.addColumn({
      type : 'string',
      id : 'Activity'
    });
    dataTable.addColumn({
      type : 'date',
      id : 'Start'
    });
    dataTable.addColumn({
      type : 'date',
      id : 'End'
    });

    var csvReadDone = function(data) {
      var maradata = $.csv.toObjects(data);
      for (var i in maradata) {
        bcviz.addCsvEntryToTable(maradata[i], dataTable);
      }
      chart.draw(dataTable);
    };

    $.ajax({
      url : "./maradata_october.csv"
    }).done(csvReadDone);
  }
</script>
</head>
<body>
  <div id="example1" style="width: 900px; height: 1800px;"></div>
</body>
</html>

